<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>æŠ€æœ¯ | hill's blog</title>
<meta name=keywords content>
<meta name=description content="æŠ€æœ¯ - hill's blog">
<meta name=author content="Me">
<link rel=canonical href=https://hillbamboo.github.io/posts/tech/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style>
<link rel=icon href=https://hillbamboo.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=16x16 href=https://hillbamboo.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://hillbamboo.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=https://hillbamboo.github.io/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://hillbamboo.github.io/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<link rel=alternate type=application/rss+xml href=https://hillbamboo.github.io/posts/tech/index.xml>
<link rel=stylesheet href=css/all.min.css>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="æŠ€æœ¯">
<meta property="og:description" content="ExampleSite description">
<meta property="og:type" content="website">
<meta property="og:url" content="https://hillbamboo.github.io/posts/tech/"><meta property="og:image" content="https://hillbamboo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="éšä¾¿å–çš„åå­—å•Š">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://hillbamboo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name=twitter:title content="æŠ€æœ¯">
<meta name=twitter:description content="ExampleSite description">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://hillbamboo.github.io/posts/"},{"@type":"ListItem","position":2,"name":"æŠ€æœ¯","item":"https://hillbamboo.github.io/posts/tech/"}]}</script>
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://hillbamboo.github.io/ accesskey=h title="Hill's Blog (Alt + H)">
<img src=https://hillbamboo.github.io/apple-touch-icon.png alt aria-label=logo height=35>Hill's Blog</a>
<div class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</div>
</div>
<ul id=menu>
<li>
<a href=https://hillbamboo.github.io/posts title=ğŸ“šæ–‡ç« >
<span>ğŸ“šæ–‡ç« </span>
</a>
</li>
<li>
<a href=https://hillbamboo.github.io/archives/ title=â±å½’æ¡£>
<span>â±å½’æ¡£</span>
</a>
</li>
<li>
<a href=https://hillbamboo.github.io/tags title=ğŸ”–æ ‡ç­¾>
<span>ğŸ”–æ ‡ç­¾</span>
</a>
</li>
<li>
<a href=https://hillbamboo.github.io/about title=ğŸ™‹ğŸ»â€â™‚ï¸å…³äº>
<span>ğŸ™‹ğŸ»â€â™‚ï¸å…³äº</span>
</a>
</li>
<li>
<a href=https://hillbamboo.github.io/search title="ğŸ”æœç´¢ (Alt + /)" accesskey=/>
<span>ğŸ”æœç´¢</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<header class=page-header>
<h1>
æŠ€æœ¯
<a href=index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg>
</a>
</h1>
</header>
<article class=post-entry>
<header class=entry-header>
<h2>åŸºäºè¯é¢‘çš„ä¸­æ–‡åˆ†è¯
</h2>
</header>
<div class=entry-content>
<p>é—®é¢˜å®šä¹‰ ç»™å®šæ•°ç»„arrï¼Œé•¿åº¦Tï¼Œå…¶ä¸­æŸäº›arr[i]åˆ°arr[j]å­˜åœ¨è½¬ç§»æ¦‚ç‡ï¼Œå°†arråˆ†æˆkç»„ï¼Œä½¿å¾—arrçš„æ•´ä½“åˆ†ç»„å’Œæœ€å¤§ã€‚ å¯¹äºarrçš„æ¯ä¸€ä¸ªå­æ•°ç»„arr[i..j]ï¼Œå…¶åˆ†ç»„å€¼å®šä¹‰ä¸º arr[i]åˆ°arr[j]çš„è½¬ç§»æ¦‚ç‡ arrçš„åˆ†ç»„å’Œæ˜¯å…¶æ¯ä¸€ä¸ªå­æ•°ç»„çš„åˆ†ç»„å€¼ä¹‹å’Œ
é—®é¢˜æ±‚è§£ æ­£å‘å®šä¹‰ å®šä¹‰æ•°æ®g[i]ä¸ºarr[0..i]çš„æœ€å¤§åˆ†ç»„å’Œ åœ¨g[j], 0 &lt;= j &lt; iå·²çŸ¥çš„å‰æä¸‹ï¼Œå°† arr[j .. i] åˆ†æˆä¸€ç»„ï¼Œåˆ™g[i] = g[j] + trans[j, i] ï¼Œæ‰€ä»¥ $$g[i] = max(g[j] + trans(j, i)), 0 \le j &lt; i$$ g[T - 1]å³ä¸ºæ‰€æ±‚ã€‚
åå‘å®šä¹‰ å®šä¹‰æ•°æ®g[i]ä¸ºarr[i..T-1]çš„æœ€å¤§åˆ†ç»„å’Œï¼Œå…¶ä½™å®šä¹‰ä¸æ­£å‘å®šä¹‰ç±»ä¼¼
è¯´æ˜ jieba/init.pyä¸­çš„Tokenizer.calcä¸wordseg/ViterbiCWS.pyä¸­çš„ViterbiSearchçš„å®ç°æ˜¯ç­‰ä»·çš„ï¼Œå‡å¯å®ç°åºåˆ—çš„æœ€å¤§åˆ†ç»„ï¼Œä¸åŒç‚¹åœ¨äº
DAGçš„å®šä¹‰ä¸åŒ å¦‚å¯¹äºå¥å­"å­¦ç”Ÿä¼šä¸»åŠ¨å®Œæˆä½œä¸š"ï¼Œ {0: [0, 1, 2], 1: [1], 2: [2, 3], 3: [3, 4], 4: [4], 5: [5, 6], 6: [6], 7: [7, 8], 8: [8]} # jieba {0: [0], 1: [0, 1], 2: [0, 2], 3: [3], 4: [3, 4], 5: [5], 6: [5, 6], 7: [7], 8: [7, 8]} # ViterbiSearch ç”¨äºå®ç°DPçš„çŠ¶æ€å®šä¹‰ä¸åŒ jiebaä½¿ç”¨çš„æ­£å‘å®šä¹‰ï¼ŒViterbiSearchä½¿ç”¨çš„æ˜¯åå‘å®šä¹‰ ä»£ç å®ç° ä½¿ç”¨åå‘å®šä¹‰ï¼Œå®ç°é€»è¾‘ä¸ViterbiSearchä¸€è‡´ã€‚ å¯ä»¥å°è¯•æå‡â€œå­¦ç”Ÿä¼šâ€çš„è¯é¢‘ï¼Œä½¿å¾—cutèƒ½ä¸”åˆ†å‡ºâ€œå­¦ç”Ÿä¼šâ€ã€‚ æˆ–è€…æå‡ é•¿æ±Ÿå¤§æ¡¥ çš„è¯é¢‘ï¼Œä½¿å¾—cutèƒ½åˆ‡åˆ†å‡º â€œé•¿æ±Ÿå¤§æ¡¥â€
freq = { "å­¦ç”Ÿ": 400, "å­¦ç”Ÿä¼š": 20, "å®Œæˆ": 500, "ä½œä¸š": 300, "ä¸»åŠ¨": 400, "å­¦": 10, "ç”Ÿ": 10, "ä¼š": 20, "ä¸»": 50, "åŠ¨": 10, "å®Œ": 100, "æˆ": 55, "ä½œ": 40, "ä¸š": 5, "å¤§æ¡¥": 20, "å—äº¬": 60, "å—äº¬å¸‚": 30, "å¸‚é•¿": 40, "æ±Ÿå¤§æ¡¥": 888, "é•¿æ±Ÿå¤§æ¡¥": 666, "å—": 10, "äº¬": 40, "å¸‚": 6, "é•¿": 7, "æ±Ÿ": 50, "å¤§": 5, "æ¡¥": 40, } total = 3000 def build_dag(sentence: str) -> dict: """ æ„å»ºä»¥æ¯ä¸ªtokenç»“å°¾çš„æœ‰å‘è¯å›¾ å¦‚ "å­¦ç”Ÿä¼šä¸»åŠ¨å®Œæˆä½œä¸š" => {0: [0], 1: [0, 1], 2: [0, 2], 3: [3], 4: [3, 4], 5: [5], 6: [5, 6], 7: [7], 8: [7, 8]} :param sentence: :return: """ n = len(sentence) dag = { i: [j for j in range(i + 1) if freq....</p>
</div>
<a class=entry-link aria-label="post link to åŸºäºè¯é¢‘çš„ä¸­æ–‡åˆ†è¯" href=https://hillbamboo.github.io/posts/tech/%E5%9F%BA%E4%BA%8E%E8%AF%8D%E9%A2%91%E7%9A%84%E4%B8%AD%E6%96%87%E5%88%86%E8%AF%8D/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>[Leetcodeæ¯æ—¥æ‰“å¡]äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨
</h2>
</header>
<div class=entry-content>
<p>åŸé¢˜æè¿° äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨
æ€è·¯ æ¨¡æ‹Ÿæ³•ã€‚ ç”¨O(n)ç©ºé—´çš„æ•°ç»„ä¿å­˜ä¸­åºéå†çš„ç»“æœï¼Œä½¿ç”¨æŒ‡é’ˆstartä¿å­˜å½“å‰è¿­ä»£å™¨æ‰€å¤„çš„ä¸‹æ ‡ã€‚
class BSTIterator { public: vector&lt;int> vals; int len = 0; int start = -1; void _build(TreeNode* root) { if (!root) return; if (root->left) _build(root->left); vals.push_back(root->val); ++len; if (root->right) _build(root->right); } BSTIterator(TreeNode* root) { _build(root); } int next() { return vals[++start]; } bool hasNext() { return start + 1 &lt; len; } }; è¿è¡Œç»“æœ æ‰§è¡Œç”¨æ—¶ï¼š28 ms, å‡»è´¥ 91.85% çš„ç”¨æˆ· å†…å­˜æ¶ˆè€—ï¼š23.6 MBï¼Œè¶…è¿‡ 45.59% çš„ç”¨æˆ· </p>
</div>
<a class=entry-link aria-label="post link to [Leetcodeæ¯æ—¥æ‰“å¡]äºŒå‰æœç´¢æ ‘è¿­ä»£å™¨" href=https://hillbamboo.github.io/posts/tech/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E8%BF%AD%E4%BB%A3%E5%99%A8/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>C++å¤šçº¿ç¨‹åŒæ­¥ä¸äº’æ–¥åŸºæœ¬åŸè¯­
</h2>
</header>
<div class=entry-content>
<p>ä¸ºä»€ä¹ˆè¦è¿›è¡Œå¤šçº¿ç¨‹ç¼–ç¨‹ æ— ä»–ï¼Œæ›´å¿«ã€‚
å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­çš„éš¾ç‚¹ åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ç¯å¢ƒä¸‹ï¼Œè®¡ç®—é¡ºåºçš„ä¸ç¡®å®šæ€§æ˜¯ä¸€ä¸ªæœ¬è´¨é—®é¢˜ã€‚è€Œå¤šçº¿ç¨‹ç¼–ç¨‹çš„éš¾ç‚¹åœ¨äº
çº¿ç¨‹äº’æ–¥ã€‚è§£å†³æ•°æ®äº‰ç”¨çš„é—®é¢˜ã€‚å¤šçº¿ç¨‹ç¼–ç¨‹ä¸‹ï¼ˆåŒä¸€è¿›ç¨‹çš„ï¼‰å„çº¿ç¨‹å…±äº«çš„å…¨å±€å¯¹è±¡ï¼Œç”±äºæ“ä½œç³»çš„æŠ¢å å¼ä»»åŠ¡è°ƒåº¦è°ƒåº¦æ–¹å¼ä¼šé€ æˆè®¡ç®—é¡ºåºçš„æ··ä¹±ï¼Œå…·ä½“æ¥è¯´å°±æ˜¯å®é™…è¿è¡Œé¡ºåºå¹¶ä¸æ˜¯ç¨‹åºæ‰€æœŸå¾…çš„é¡ºåºã€‚ çº¿ç¨‹åŒæ­¥ã€‚å°†ä¸€ä¸ªå¤§ä»»åŠ¡æ‹†åˆ†ä¸ºå¤šä¸ªå°ä»»åŠ¡ï¼ˆçº¿ç¨‹ï¼‰åï¼Œå°ä»»åŠ¡ä¹‹é—´æ˜¯éœ€è¦é€šè¿‡æŸç§æ–¹å¼ç»„ç»‡èµ·æ¥è¿˜åŸä¼šå¤§ä»»åŠ¡çš„ã€‚å…·ä½“æ¥è¯´ï¼Œå°ä»»åŠ¡ä¹‹é—´æ˜¯é€šè¿‡ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ç»„ç»‡èµ·æ¥çš„ï¼Œå…¶ä¸­æŸäº›å°ä»»åŠ¡éœ€è¦ç­‰å¾…å¦å¤–ä¸€äº›å°ä»»åŠ¡çš„å®Œæˆï¼Œå¦åˆ™æ— æ³•ç»§ç»­ã€‚ å¦‚ä½•è§£å†³çº¿ç¨‹äº’æ–¥é—®é¢˜ åœ¨C++ä¸­ï¼Œè§£å†³çº¿ç¨‹äº’æ–¥ï¼ˆé—®é¢˜1ï¼‰çš„æ–¹å¼æœ‰ï¼š
lock_gurad/unique_lock + mutex semaphore = mutex + condition_variable + int_cnt atomic è§£å†³é—®é¢˜2çš„æ–¹å¼æœ‰ï¼š
condition_variable è§£å†³æ•°æ®äº‰ç”¨é—®é¢˜ åŠ é”æ“ä½œ ä½¿ç”¨lock_gurad/unique_lock + mutexå¯å®ç°å¼‚å¸¸å®‰å…¨çš„åŠ é”æ“ä½œã€‚
å•çº¯ä½¿ç”¨mutexçš„.lock()å’Œ.unlock()æ–¹æ³•ä¸æ˜¯å¼‚å¸¸å®‰å…¨çš„ã€‚å¦‚æ¯ä¸€ä¸ªçº¿ç¨‹è¦å®Œæˆrun()è¿™æ ·ä¸€ä¸ªè®¡ç®—ä»»åŠ¡ï¼š
mutex m; void run(int a, int b, int c) { m.lock(); int d = a + b / c; m.unlock(); } è¿™é‡Œä½¿ç”¨çš„.lock()ä¸.unlock()åˆ’å®šäº†ä¸€ä¸ªä¸´ç•ŒåŒºã€‚è‹¥ä¸´ç•ŒåŒºä¸­çš„è®¡ç®—æŠ›å¼‚å¸¸äº†ï¼Œå°±æ— æ³•æ‰§è¡Œ.unlock()è¯­å¥ã€‚ä»è€Œï¼Œmutexæ°¸è¿œè¢«é”ä¸Šäº†ã€‚
ä¸Šè¿°é—®é¢˜çš„è§£å†³çŸ¥é“å°±æ˜¯ä½¿ç”¨RAIIæ‰‹æ³•ï¼Œåˆ©ç”¨lock_guard/unique_lockæŒæœ‰mutexå¯¹è±¡ã€‚lock_guardä¸­çš„æ„é€ å‡½æ•°è°ƒç”¨äº†.lock()ï¼Œææ„å‡½æ•°å®ç°äº†.unlock()ï¼Œä»è€Œä½¿ç”¨lock_guard/unique_lock + mutexå¯å®ç°å¼‚å¸¸å®‰å…¨çš„é”æ“ä½œã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š
mutex m; void run(int a, int b, int c) { lock_guard&lt;mutex> l(m) int d = a + b / c; } è·¨çº¿ç¨‹å®‰å…¨çš„èµ„æºè®¡æ•° ä¿¡å·é‡å®ç°äº†è¿™æ ·çš„åŠŸèƒ½ï¼š
è·å¾—ä¸€ä¸ªèµ„æºï¼Œèµ„æºè®¡æ•°å™¨å‡1 é‡Šæ”¾ä¸€ä¸ªèµ„æºï¼Œèµ„æºè®¡æ•°å™¨åŠ 1 æ²¡æœ‰èµ„æºå¯ä»¥è·å¾—ï¼Œçº¿ç¨‹é˜»å¡ç­‰å¾… C++åŸç”Ÿä¸æ”¯æŒä¿¡å·é‡ï¼Œå¯ä»¥é€šè¿‡lock_guard/unique_lock + mutex + int_cntæ‰‹åŠ¨å®ç°ä¸€ä¸ªã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š
class Semaphore { private: mutex mMutex; condition_variable mCondVar; int64_t mAvailable; public: explicit Semaphore(int64_t init) : mAvailable(init) {} void post() { { unique_lock&lt;mutex> l(mMutex); // do computation ++mAvailable; } mCondVar.notify_one(); } void wait() { unique_lock&lt;mutex> l(mMutex); while (mAvailable == 0) { mCondVar.wait(l); } --mAvailable; } }; åŸå­æ“ä½œ c++çš„æ ‡å‡†åº“atomicå¯å®ç°åŸå­æ“ä½œã€‚ todo...</p>
</div>
<a class=entry-link aria-label="post link to C++å¤šçº¿ç¨‹åŒæ­¥ä¸äº’æ–¥åŸºæœ¬åŸè¯­" href=https://hillbamboo.github.io/posts/tech/cxx-thread-sync/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Git for Windows æ— æ³•æ˜¾ç¤ºä¸­æ–‡
</h2>
</header>
<div class=entry-content>
<p>git for windows æ— æ³•æ˜¾ç¤ºä¸­æ–‡ï¼Œè¿™ä¸ªé—®é¢˜ä¹‹å‰ç¢°åˆ°è¿‡ä¸¤æ¬¡ã€‚ç°è®°å½•è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š
git config --global core.quotepath false git config --global gui.encoding utf-8 git config --global i18n.commit.encoding utf-8 git config --global i18n.logoutputencoding utf-8 export LESSCHARSET=utf-8 å‚è€ƒèµ„æ–™
è§£å†³ Git åœ¨ windows ä¸‹ä¸­æ–‡ä¹±ç çš„é—®é¢˜</p>
</div>
<a class=entry-link aria-label="post link to Git for Windows æ— æ³•æ˜¾ç¤ºä¸­æ–‡" href=https://hillbamboo.github.io/posts/tech/git-cannot-display-chinese/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>æ ‘çŠ¶æ•°ç»„: å°è€Œç¾çš„æ•°æ®ç»“æ„
</h2>
</header>
<div class=entry-content>
<p>é—®é¢˜æè¿° åŠ¨æ€å‰ç¼€å’Œç»´æŠ¤é—®é¢˜ã€‚ç»™å®šä¸€ä¸ªåŒºé—´ $A[1..n]$, å¯¹è¯¥åŒºé—´è¿›è¡Œå¦‚ä¸‹ä¸¤ç±»æ“ä½œ
(å‰ç¼€å’ŒæŸ¥è¯¢)æŒ‡å®š$1 \le j \le n$, æ±‚$A[1..j]$çš„å‰ç¼€å’Œ (å•ç‚¹ä¿®æ”¹)æŒ‡å®š$1 \le j \le n$, ä»¤A[j] += val åˆ†æã€‚è¯¥é—®é¢˜å¯ä»¥é€šè¿‡å‰ç¼€æ•°ç»„$arr[1..n]$å®Œæˆï¼Œç©ºé—´å¤æ‚åº¦æ˜¯$O(n)$, æ“ä½œä¸€çš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(1)$, æ“ä½œäºŒçš„æ—¶é—´æ˜¯$O(n)$, æœ€åæƒ…å†µæ˜¯$j = n$æ—¶æ•´ä¸ª$arr[1..n]$å‡éœ€è¦æ›´æ–°ã€‚æ ‘çŠ¶æ•°ç»„èƒ½å¤ŸæŠŠæ“ä½œä¸€å’Œæ“ä½œäºŒçš„æ—¶é—´å¤æ‚åº¦éƒ½é™è‡³$O(\log n)$, ç©ºé—´æ˜¯$O(n)$.
æ ‘çŠ¶æ•°ç»„ æ ‘çŠ¶æ•°ç»„æ˜¯ä¸€ç±»å·§å¦™åˆ©ç”¨äº†äºŒè¿›åˆ¶çš„æ•°æ®ç»“æ„. åœ¨åŠ¨æ€å‰ç¼€å’Œç»´æŠ¤é—®é¢˜ä¸­ï¼Œè¾“å…¥$1 \le j \le n$, è‹¥æˆ‘ä»¬èƒ½ä»äºŒè¿›åˆ¶çš„è§‚ç‚¹æ¥çœ‹å¾…$j$, åˆ™$j$è‡³å¤šæœ‰$\log n$ä½. ä¸¾ä¾‹, æ˜“çŸ¥
$$j = 13_{10} = 1101_{2} = 8 + 4 + 1$$
ä»è€Œæ±‚æ•°ç»„çš„$A$çš„å‰13é¡¹ä¹‹å’Œå¯ä»¥åˆ†æˆä¸‰æ­¥:
$$A[1..13] = A[1..8] + A[9..12] + A[13]$$
æ³¨æ„åŒºé—´$A[1..8], A[9..12], A[13]$çš„åŒºé—´å¤§å°åˆ†åˆ«å°±æ˜¯8, 4, 1, è¿™å¯¹åº”äº†13çš„è¿›åˆ¶åˆ†è§£. æˆ‘ä»¬è®°
$$c[8] = A[1..8], c[12] = A[9..12], c[13] = A[13]$$
åˆ™è‹¥æˆ‘ä»¬çŸ¥é“äº†æ•°ç»„$c[1..n]$, åˆ™å‰ç¼€å’Œå¯ä»¥åœ¨$O(\log n)$æ—¶é—´å†…å®Œæˆ. æ•°ç»„$c[1..n]$è¢«ç§°ä¸ºæ ‘çŠ¶æ•°ç»„.
æ ‘çŠ¶æ•°ç»„çš„å«ä¹‰ åœ¨æ­¤ä¹‹å‰, é¦–å…ˆæˆ‘ä»¬æ¥æ˜ç¡®ä¸€ä¸‹$c[j]$çš„å«ä¹‰ï¼Œä»–æ˜¯æŒ‡ä»¥$A[j]$ç»“å°¾çš„å¾€å‰ä¸€æ®µåŒºé—´çš„å’Œ, ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ç§°è¿™ä¸€æ®µåŒºé—´ä¸º$c[j]$çš„å‰ç¼€åŒºé—´. $c[j]$çš„å‰ç¼€åŒºé—´æœ‰å¤šé•¿ï¼Ÿå¦‚ä¸‹:
$$\left| c[j] \right| = j\ &\ (-j) $$
å…¶ä¸­ç¬¦å·$&$è¡¨ç¤ºæŒ‰ä½ä¸. ä¸Šå¼çš„å®é™…æ„ä¹‰æ˜¯æŒ‡$j$çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ€å³è¾¹çš„1æ‰€å çš„æƒé‡. ä¸¾ä¾‹ï¼Œå¦‚$12_{10} = 1100_{2} = 8 + 4, 4 = 12\ & \ (-12)$, åˆ™$c[12]$çš„å‰ç¼€åŒºé—´é•¿åº¦æ˜¯4, åŒç†$\left | c[13] \right | = 1, \left | c[8] \right | = 8, \left | c[2] \right | = 2$. å¯ä»¥çœ‹å‡ºè§„å¾‹ï¼Œå‡¡æ˜¯$j$æ˜¯2çš„å¹‚æ¬¡å½¢å¼æ˜¯$c[j]$çš„å‰ç¼€åŒºé—´é•¿åº¦æ€»æ˜¯j, è¿™æ˜¯å› ä¸ºæ­¤æ—¶jä»…æœ‰ä¸€ä¸ª1.
å‰ç¼€å’ŒæŸ¥è¯¢ é¦–å…ˆæ¥è€ƒå¯Ÿæ“ä½œä¸€:å‰ç¼€å’ŒæŸ¥è¯¢æ“ä½œ. ç»™å®š$1 \le j \le n$, æ€æ ·ä½¿ç”¨$c[1..n]$è®¡ç®—å¾—åˆ°$A[1..n]$? ä»ç„¶ä»¥$j = 13$ä¸¾ä¾‹,...</p>
</div>
<a class=entry-link aria-label="post link to æ ‘çŠ¶æ•°ç»„: å°è€Œç¾çš„æ•°æ®ç»“æ„" href=https://hillbamboo.github.io/posts/tech/binary-index-tree/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>ä¸‰è¡Œå¹¶æŸ¥é›†
</h2>
</header>
<div class=entry-content>
<p>tags algos data-structure
ä¸‰è¡Œå¹¶æŸ¥é›† å¹¶æŸ¥é›†æ˜¯ä¸€ç§ç®€æ´è€Œä¼˜é›…çš„æ•°æ®ç»“æ„ï¼Œèƒ½å¤Ÿåœ¨O(1)çš„æ—¶é—´å†…å®ç°å¯¹é›†åˆçš„æŸ¥è¯¢å’Œåˆå¹¶æ“ä½œã€‚
å¹¶æŸ¥é›†çš„ä»£ç ååˆ†ç®€æ´ï¼Œæ€»å…±å°±ä¸‰è¡Œ
Init(n) { for(int i = 0; i &lt; n; ++i) root[i] = i;} Find(x) { return x == root[x] ? x : root[x] = find(root[x]); } Union(x, y) {root[find(x)] = find(y); } å…¶ä¸­root[i]è¡¨ç¤ºå…ƒç´ içš„çˆ¶èŠ‚ç‚¹
è·¯å¾„å‹ç¼© æ³¨æ„Findå‡½æ•°ä¸­ä½¿ç”¨çš„æ˜¯é€’å½’è°ƒç”¨, å…¶ä¸­å°†é€’å½’è°ƒç”¨åå¾—è¿”å›å€¼é‡æ–°èµ‹å€¼ç»™root[x], è¿™æ˜¯åšæ³•ç§°ä¸º è·¯å¾„å‹ç¼©, ä¸ºäº†é˜²æ­¢åå¤å¯¹é›†åˆè¿›è¡Œåˆå¹¶åå¹¶æŸ¥é›†é€€åŒ–æˆä¸€æ¡é“¾ï¼Œä»è€Œæ—¶é—´å¤æ‚åº¦é€€åŒ–æˆçº¿æ€§æ—¶é—´æ‰€åšçš„ä¼˜åŒ–ï¼Œæ³¨æ„æ— è·¯å¾„å‹ç¼©çš„å†™æ³•å¦‚ä¸‹
x == root[x] ? x : find(root[x]) è¿™c/c++ç”¨è¿™ç§å†™æ³•å¾ˆOKï¼Œä½†æ˜¯ç”¨pythonå†™ï¼Œæœ€å°‘éƒ½è¦ç”¨ä¸¤è¡Œ
if root[x] != x: root[x] = find(root[x]) return root[x] ç”¨ä¸‹é¢çš„è¿™ç§å†™æ³•æ˜¯ä¸è¡Œçš„:
return x if root[x] == x else root[x] = find(root[x]) æ­¤å¤–ï¼Œè·¯å¾„å‹ç¼©è‡ªç„¶å¯ä»¥æ”¹å†™æˆéé€’å½’å½¢å¼ï¼Œåšæ³•å¾ˆç®€å•ï¼Œä¸‹æ–‡ç•¥ã€‚
æŒ‰ç§©å½’å¹¶ Unionæ“ä½œè¿˜å¯ä»¥è¿›è¡ŒæŒ‰ç§©å½’å¹¶çš„ä¼˜åŒ–. é¦–å…ˆä»‹ç»é›†åˆçš„rankçš„æ¦‚å¿µã€‚ åœ¨å¹¶æŸ¥é›†ä¸­ï¼Œä¸€ä¸ªé›†åˆç”¨ä¸€æ£µæ ‘è¡¨ç¤ºï¼Œè¿™æ£µæ ‘çš„æ·±åº¦å°±æ˜¯è¯¥é›†åˆçš„rankï¼Œæ ‘è¶Šæ·±rankè¶Šå¤§. å®¹æ˜“çŸ¥é“rankè¶Šä½findæ“ä½œè¶Šé«˜æ•ˆï¼Œè¿™ä¹Ÿæ˜¯è·¯å¾„å‹ç¼©æ‰€è¿½æ±‚çš„ã€‚æŒ‰ç§©å½’å¹¶çš„æ€è·¯æ˜¯å°†rankä½çš„é›†åˆå¹¶å…¥åˆ°ranké«˜çš„é›†åˆï¼Œè¿™æ ·å¯ä»¥å»¶ç¼“å¹¶æŸ¥é›†å˜æˆä¸€æ¡é“¾çš„æƒ…å½¢ï¼Œä»è€Œæé«˜Findçš„æ•ˆç‡. è‹¥ä¸æ˜¯å°†å°ranké›†åˆå½’å¦‚å¤§rankç»“åˆï¼Œåˆå¹¶åçš„æ–°é›†åˆçš„rankæ€»ä¼šå¢é•¿ï¼Œæœ€ç»ˆrank=é›†åˆå…ƒç´ ä¸ªæ•°æ—¶ï¼Œfindæ“ä½œæ˜¯çº¿æ€§çš„ã€‚æ³¨æ„ï¼Œä¸ºäº†å®ç°æŒ‰ç§©å½’å¹¶ï¼Œæˆ‘ä»¬ä»…éœ€è¦å¤šç»´æŠ¤ä¸€ä¸ªrankæ•°ç»„å³å¯ï¼Œè¶³å¤Ÿç®€å•ã€‚
åŠ ä¸Šäº†æŒ‰ç§©å½’å¹¶ä¼˜åŒ–çš„Unionå‡½æ•°é•¿æˆä¸‹é¢è¿™ä¸ªæ ·å­
void Union(x, y) { int xr = find(x), yr = find(y); if (rank[xr] &lt;= rank[yr]) { root[xr] = yr; if (rank[xr] == rank[yr]) ++rank[yr]; } else root[yr] = xr; æŒ‰ç§©å½’å¹¶ç®—æ³•å¤šäº†å‡ è¡Œï¼Œä¸ºäº†å·æ‡’æœ‰æ—¶éšä¾¿Unionä¹ŸOK. ä¸è¶…æ—¶å°±å¥½. è®²ç©¶ä¸€ç‚¹çš„å°±æŒ‰ç§©å½’å¹¶å§.
ç»ƒä¹ é¢˜ leetcode 200 leetcode 547 leetcode 684 leetcode 959 leetcode 990 åç»­ å¯æŒä¹…åŒ–å¹¶æŸ¥é›†ï¼Ÿç­‰æˆ‘å­¦ä¼šäº†å†å†™å§~~~</p>
</div>
<a class=entry-link aria-label="post link to ä¸‰è¡Œå¹¶æŸ¥é›†" href=https://hillbamboo.github.io/posts/tech/disjoin-set/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>åŠ¨æ€è§„åˆ’åˆæ­¥
</h2>
</header>
<div class=entry-content>
<p>ä»€ä¹ˆæ˜¯åŠ¨æ€è§„åˆ’ï¼Ÿ æ€æ ·å‘ä¸€ä¸ªå››å²çš„å°å­©è§£é‡ŠåŠ¨æ€è§„åˆ’ï¼Ÿä¸‹é¢æ˜¯æ¥è‡ªQuoraçš„é«˜ç¥¨å›ç­”
How should I explain dynamic programming to a 4 year old?
writes down â€œ1+1+1+1+1+1+1+1 =â€ on a sheet of paper*
â€œWhatâ€™s that equal to?â€
(countingâ€¦) â€œEight!â€
writes down another â€œ1+â€ on the left*
â€œWhat about that?â€
(quicklyâ€¦) â€œNine!â€
â€œHowâ€™d you know it was nine so fast?â€
â€œYou just added one moreâ€
â€œSo you didnâ€™t need to recount because you remembered there > were eight! Dynamic Programming is just a fancy way to say > â€˜remembering stuff to save time laterâ€™â€
ä¸‹é¢çš„è®²è§£æ˜¯æ¥è‡ªçŸ¥ä¹çš„é«˜ç¥¨å›ç­”ï¼š
å½“ä½ ä¼å›¾ä½¿ç”¨è®¡ç®—æœºè§£å†³ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå…¶å®å°±æ˜¯åœ¨æ€è€ƒå¦‚ä½•å°†è¿™ä¸ªé—®é¢˜è¡¨è¾¾æˆçŠ¶æ€ï¼ˆç”¨å“ªäº›å˜é‡å­˜å‚¨å“ªäº›æ•°æ®ï¼‰ä»¥åŠå¦‚ä½•åœ¨çŠ¶æ€ä¸­è½¬ç§»ï¼ˆæ€æ ·æ ¹æ®ä¸€äº›å˜é‡è®¡ç®—å‡ºå¦ä¸€äº›å˜é‡ï¼‰ã€‚æ‰€ä»¥æ‰€è°“çš„ç©ºé—´å¤æ‚åº¦å°±æ˜¯ä¸ºäº†æ”¯æŒä½ çš„è®¡ç®—æ‰€å¿…éœ€å­˜å‚¨çš„çŠ¶æ€æœ€å¤šæœ‰å¤šå°‘ï¼Œæ‰€è°“æ—¶é—´å¤æ‚åº¦å°±æ˜¯ä»åˆå§‹çŠ¶æ€åˆ°è¾¾æœ€ç»ˆçŠ¶æ€ä¸­é—´éœ€è¦å¤šå°‘æ­¥ï¼
æ¯ä¸ªé˜¶æ®µåªæœ‰ä¸€ä¸ªçŠ¶æ€->é€’æ¨
æ¯ä¸ªé˜¶æ®µçš„æœ€ä¼˜çŠ¶æ€éƒ½æ˜¯ç”±ä¸Šä¸€ä¸ªé˜¶æ®µçš„æœ€ä¼˜çŠ¶æ€å¾—åˆ°çš„->è´ªå¿ƒ
æ¯ä¸ªé˜¶æ®µçš„æœ€ä¼˜çŠ¶æ€æ˜¯ç”±ä¹‹å‰æ‰€æœ‰é˜¶æ®µçš„çŠ¶æ€çš„ç»„åˆå¾—åˆ°çš„->æœç´¢
æ¯ä¸ªé˜¶æ®µçš„æœ€ä¼˜çŠ¶æ€å¯ä»¥ä»ä¹‹å‰æŸä¸ªé˜¶æ®µçš„æŸä¸ªæˆ–æŸäº›çŠ¶æ€ç›´æ¥å¾—åˆ°è€Œä¸ç®¡ä¹‹å‰è¿™ä¸ªçŠ¶æ€æ˜¯å¦‚ä½•å¾—åˆ°çš„->åŠ¨æ€è§„åˆ’ã€‚
åŠ¨æ€è§„åˆ’: å½¢å¼åŒ–è®²è§£ åŠ¨æ€è§„åˆ’çš„ä¸‰å…„å¼Ÿï¼š
æœ€ä¼˜å­ç»“æ„ é‡å å­é—®é¢˜ æ— åæ•ˆæ€§ æœ€ä¼˜å­ç»“æ„æ˜¯æŒ‡åŸé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œä¾‹å¦‚ï¼Œæ±‚è§£æ–æ³¢é‚£å¥‘æ•°åˆ—fib(n) = fib(n - 1) + fib(n - 2), ç¬¬né¡¹æ–æ³¢é‚£å¥‘æ•°å¿…åŒ…å«ç¬¬n-1é¡¹å’Œç¬¬n-2é¡¹æ–æ³¢é‚£å¥‘æ•°ã€‚å°±æˆ‘çš„ç»éªŒè€Œè¨€ï¼Œåˆ»ç”»æœ€ä¼˜å­ç»“æ„å¾€å¾€æ˜¯æœ€éš¾çš„ï¼Œæˆ‘å¸¸å¸¸ä¼šå› ä¸ºæ‰¾é”™äº†æœ€ä¼˜å­ç»“æ„è€Œå†™é”™äº†DPè½¬ç§»æ–¹ç¨‹ã€‚åƒæ–æ³¢é‚£å¥‘æ•°ï¼Œè·³å°é˜¶ï¼Œ0-1èƒŒåŒ…ç­‰è¿™ç§ç®€å•çš„é—®é¢˜ï¼Œæœ€ä¼˜å­ç»“æ„å¾ˆå®¹æ˜“åˆ»ç”»ï¼Œå› ä¸ºå½“å‰çŠ¶æ€(i,j) ä»…ä¾èµ–äºå¾ˆå°‘çš„çš„å‡ ä¸ªå…ˆå‰çš„çŠ¶æ€ï¼Œä»è€ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹æ˜¯å¾ˆå®¹æ˜“å†™å‡ºæ¥çš„ã€‚ç„¶è€Œï¼Œå¸¸å¸¸é—®é¢˜ä¸€å¤æ‚ï¼Œå…¶ä¸­ç‰µæ¶‰çš„çŠ¶æ€è¾ƒå¤šæ—¶ï¼ŒçŠ¶æ€è½¬ç§»ä¼šå˜å¾—å¾ˆå¤æ‚ï¼Œå¾ˆå®¹æ˜“æŠŠå­é—®é¢˜æƒ³é”™ï¼Œæˆ–è€…æƒ³æ¼äº†ã€‚åœ¨åˆ»ç”»æœ€ä¼˜å­ç»“æ„æ—¶ï¼Œå¿…é¡»è€ƒå¯Ÿå®Œå…¨å…¶æœ€ä¼˜è§£éœ€è¦çš„æ‰€æœ‰å­é—®é¢˜ï¼Œåšåˆ°ä¸é‡ä¸æ¼ã€‚
è¿˜æœ‰ä¸€ç‚¹ï¼Œè€ƒè™‘å½“å‰çŠ¶æ€(i, j)æ˜¯ä»å…ˆå‰çš„å“ªäº›çŠ¶æ€è½¬ç§»è¿‡æ¥æ—¶ï¼Œæ˜¯ä¸€ä¸ªå†³ç­–çš„è¿‡ç¨‹ï¼Œæ‰€æœ‰å®¹è®¸çš„å¯èƒ½å†³ç­–æ„æˆä¸€ä¸ªå…è®¸å†³ç­–é›†ï¼Œè¿™ä¸ªé›†åˆæ˜¯ç”±åŸé—®é¢˜ç»™å‡ºçš„ï¼Œä¹Ÿæ˜¯ç”±æ€æ ·å»è®¾è®¡çŠ¶æ€æ‰€å†³å®šçš„ï¼Œå¹¶ä¸æ˜¯è‡ªå·±ç©ºæƒ³çš„ã€è‡†é€ çš„ã€‚
é‡å å­é—®é¢˜æ˜¯æŒ‡å°†åŸé—®é¢˜åˆ†è§£æˆè®¸å¤šçš„å­é—®é¢˜åï¼Œè¿™äº›å­é—®é¢˜éƒ½æ˜¯ç›¸äº’å…³è”çš„ï¼Œæœ‰æ‰€é‡å çš„ï¼Œè¿™æ ·ä½¿ç”¨DPæ‰ä¼šåŠ é€Ÿè®¡ç®—ã€‚å¦‚æœå‘ç°é—®é¢˜å­˜åœ¨å¤§é‡çš„é‡å å­é—®é¢˜ï¼Œè¯¥é—®é¢˜å°±å¾ˆæœ‰å¯èƒ½èƒ½ç”¨DPæ¥è§£ã€‚è¿™ç‚¹ä¹Ÿæ˜¯DPå’Œåˆ†æ²»çš„æ˜¾è‘—åŒºåˆ«ï¼Œå¦‚æœå­é—®é¢˜æ˜¯ç‹¬ç«‹çš„ï¼Œç›´æ¥ç”¨åˆ†æ”¯å°±èƒ½è§£ï¼Œä¹Ÿå°±æ— æ‰€è°“DPä¸DPã€‚ä¾‹å¦‚å¯¹äºæ’åºé—®é¢˜ï¼Œå°†å…¶åˆ†è§£ä¸ºå·¦å³ä¸¤ä¸ªå­æ®µçš„æ’åºé—®é¢˜ï¼Œæ±‚è§£è¿™ä¸¤ä¸ªå­é—®é¢˜æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä»è€Œè¿™é‡Œå¹¶ä¸å­˜åœ¨é‡å å­é—®é¢˜ã€‚
å››æ­¥èµ°
åˆ’åˆ†é˜¶æ®µ ç¡®å®šçŠ¶æ€ å¯»æ‰¾æœ€ä¼˜å­ç»“æ„ (ä»ç‰¹ä¾‹å‡ºå‘è€ƒè™‘æœ€ä¼˜å­ç»“æ„) è€ƒè™‘æœ€ä¼˜å­ç»“æ„çš„ä¸€èˆ¬æƒ…å†µï¼Œæ³¨æ„è€ƒè™‘å‘¨å…¨ å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹å’Œè¾¹ç•Œæƒ…å†µ(å¹³å‡¡/é€€åŒ–æƒ…å†µ), æ³¨æ„è¾¹ç•Œä¸è¦å†™æ¼ ä¸‰æ­¥èµ°
åˆ’åˆ†é˜¶æ®µ è€ƒè™‘å¹³å‡¡æƒ…å†µï¼Œå¦‚å½“æ•°ç»„é•¿åº¦ä¸º0æ—¶ è€ƒè™‘ä¸€èˆ¬æƒ…å†µï¼Œ å¦‚è§„æ¨¡ä¸ºiçš„é—®é¢˜å·²è§£å†³ï¼Œå¦‚ä½•åŸºäºæ­¤æ±‚è§£è§„æ¨¡ä¸ºi+1çš„é—®é¢˜ 1->2->3->4, 1->4->2->3
ä¾‹é¢˜è®²è§£ ä¸‰å¤§ç®—æ³•æ€è·¯: æœç´¢ï¼Œè´ªå¿ƒï¼Œdpï¼Œåˆ†æ²»
fibæ•°åˆ— é’è›™è·³ å˜æ€é’è›™è·³ æŒ–é‡‘çŸ¿ èŠ±ç“¶ç¾å­¦ æ•°å­—ä¸‰è§’å½¢ èƒŒåŒ…ä¹é—® æœ€é•¿å…¬å…±å­åºåˆ— å•æºæœ€çŸ­è·¯å¾„é—®é¢˜...</p>
</div>
<a class=entry-link aria-label="post link to åŠ¨æ€è§„åˆ’åˆæ­¥" href=https://hillbamboo.github.io/posts/tech/dp-basic/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>æœºå™¨å­¦ä¹ ç®—æ³•: æœ´ç´ è´å¶æ–¯ç¯‡
</h2>
</header>
<div class=entry-content>
<p>æœ´ç´ è´å¶æ–¯æ˜¯ä¸€ç±»å¾ˆç®€å•çš„åˆ†ç±»ç®—æ³•, åº”ç”¨åœºæ™¯è¾ƒå¤š, å¦‚åƒåœ¾é‚®ä»¶åˆ†ç±», è¾“å…¥æ³•ä¸­çš„æ‹¼å†™æ£€æŸ¥, æ–‡æœ¬æƒ…æ„Ÿåˆ†ç±»ç­‰ç­‰. åˆå­¦æœ´ç´ è´å¶æ–¯æ—¶è¢«"æœ´ç´ "äºŒå­—è¿·æƒ‘, è®¤ä¸ºä¹‹æ‰€ä»¥ç§°ä¹‹ä¸º â€œæœ´ç´ â€ æ—¶å› ä¸ºç®—æ³•å¾ˆ â€œç®€å•â€, å¾ˆnaive. å®é™…ä¸Š, â€œæœ´ç´ â€ æ›´å‡†ç¡®çš„å«ä¹‰æ˜¯ï¼ˆç‰¹å¾é—´çš„ï¼‰æ¡ä»¶ç‹¬ç«‹æ€§å‡è®¾, ç”±äºè¿™ä¸€å‡è®¾ä½¿å¾—è¿™ä¸ªç®—æ³•å¾ˆ â€œnaiveâ€, ä»–çš„å¼•å…¥æ˜¯ä¸ºäº†ç®€åŒ–åéªŒæ¦‚ç‡çš„è®¡ç®—. å­¦ä¹ ç®—æ³•ä¸èƒ½èµ°é©¬è§‚èŠ±, æµ…å°è¾„æ­¢, è¿˜æ˜¯å¾—èŠ±æ—¶é—´å¥½å¥½ç¢ç£¨.
è´å¶æ–¯å…¬å¼ å…ˆè¡¥å……è´å¶æ–¯å…¬å¼ä½œä¸ºé¢„å¤‡çŸ¥è¯†. è´å¶æ–¯å…¬å¼å½¢å¦‚ä¸‹å¼ï¼š å…¶ä¸­$\mathbb{x}$è¡¨ç¤ºæ ·æœ¬, $c$è¡¨ç¤ºç±»åˆ«, è´å¶æ–¯å…¬å¼ç»™å‡ºäº†æ ·æœ¬ä¸ç±»åˆ«ä¹‹é—´çš„ç”Ÿæˆå…³ç³». æ›´é€šä¿—åœ°è®², å‡è®¾ç»™å®šæœªçŸ¥æ ·æœ¬$\mathbb{x}$, $c$çš„å¯èƒ½å–å€¼æ˜¯ ${0, 1, 2, \cdots, k}$, åˆ™æ¦‚ç‡
$$Pr(c=j|\mathbb{x}) = \frac{Pr(\mathbb{x}|c=j) \times Pr(c = j)}{Pr(\mathbb{x})}, \ j=0, 1, \cdots, k$$
æœ´ç´ è´å¶æ–¯ç®—æ³• æœ´ç´ è´å¶æ–¯æ¨¡å‹æ˜¯ä¸€ç±»ç”Ÿæˆæ¨¡å‹, å®ƒçš„ç”Ÿæˆå…³ç³»æœ‰è´å¶æ–¯å…¬å¼ç»™å‡º, æ¨¡å‹çš„è®­ç»ƒæ˜¯é€šè¿‡æœ€å¤§åŒ–åéªŒæ¦‚ç‡å®ç°çš„.
æ¨¡å‹å‡è®¾ æœ´ç´ è´å¶æ–¯ç®—æ³•çš„å‰æå‡è®¾æ˜¯ç‰¹å¾ä¹‹é—´çš„æ¡ä»¶ç‹¬ç«‹æ€§, å³ï¼š ç»™å®šæ ·æœ¬$\mathbb{x}=(x_1, x_2, \cdots, x_n)$, å…¶ä¸­$x_i$ä¸ºç¬¬$i$ä¸ªç‰¹å¾, åˆ™
$$Pr(\mathbb{x}|c=j) = Pr(c=j) \times \prod\limits_{i}Pr(x_i|c=j)$$
ç®—æ³•æ¨å¯¼ ç”±è´å¶æ–¯å…¬å¼å¯çŸ¥
$$Pr(c=j|\mathbb{x}) = \frac{Pr(\mathbb{x}|c=j) \times Pr(c = j)}{Pr(\mathbb{x})}, \ j=0, 1, \cdots, k$$
ç”±äºå¯¹äºåŒä¸€ä¸ªæ ·æœ¬, $Pr(\mathbb{x})$å–å€¼æ€»æ˜¯ç›¸åŒçš„, ä»è€Œ
$$ \begin{aligned} j^{*} &= \mathop{\arg\max}\limits_{j} \frac{Pr(c = j) \times \prod\limits_{i}Pr(x_i|c = j)}{Pr(\mathbb{x})} \ & = \mathop{\arg\max}\limits_{j} Pr(c = j) \times \prod\limits_{i}Pr(x_i|c = j) \end{aligned} $$
å…¶ä¸­, $j^{*}$å³ä¸ºæ ·æœ¬$\mathbb{x}$çš„é¢„æµ‹ç±»åˆ«
ç®—æ³•æµç¨‹ æœ´ç´ è´å¶æ–¯ç®—æ³•çš„è®­ç»ƒè¿‡ç¨‹å°±æ˜¯ä¸€ä¸ª"è®¡æ•°"è¿‡ç¨‹. å…·ä½“æ¥è¯´, å®ƒå¯¹è®­ç»ƒé›†ç»Ÿè®¡ä¸‹åˆ—ä¸¤ç±»æ¦‚ç‡
å…ˆéªŒæ¦‚ç‡ï¼ˆç±»æ¦‚ç‡ï¼‰ $$Pr(c = j) = \frac{\left| D_{c=j}\right|}{\left| D\right|}$$, å…¶ä¸­ $\left| D_{c=j}\right|$ ä¸ºæ•°æ®é›†ä¸­çš„ç±»åˆ« $j$æ‰€å çš„æ•°ç›®, $\left| D\right|$ä¸ºæ•°æ®é›†çš„å¤§å° æ¡ä»¶æ¦‚ç‡ï¼ˆä¼¼ç„¶ï¼‰ $$ Pr(x_i|c = j) = \begin{cases} \frac{\left| D_{x_i, c=j} \right| }{\left| D_{c} \right| }, & è‹¥\ x\ ç¦»æ•£, \ \frac{1}{\sigma \sqrt{2\pi}}\cdot \exp\left( -\frac{\left( x_i - \mu\right)^2}{2\sigma^2}\right), & è‹¥\ x\ è¿ç»­, \end{cases} $$ å…¶ä¸­$\left| D_{x_i, c=j} \right|$ä¸ºç±»åˆ«æ˜¯$j$ä¸”å–å€¼ä¸º$x_i$çš„æ ·æœ¬æ•°é‡....</p>
</div>
<a class=entry-link aria-label="post link to æœºå™¨å­¦ä¹ ç®—æ³•: æœ´ç´ è´å¶æ–¯ç¯‡" href=https://hillbamboo.github.io/posts/tech/naive-bayes/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>XGB
</h2>
</header>
<div class=entry-content>
<p>GBDTæ˜¯ä¸€ä¸ªåŠ æ³•æ¨¡å‹ï¼Œå…¶åŸºæ¨¡å‹æ˜¯å†³ç­–æ ‘ï¼Œæ‰€ä»¥åå­—ä¸­å¸¦ç€DTï¼Œä½¿ç”¨çš„ä¼˜åŒ–æ–¹å¼æ˜¯æ¢¯åº¦æå‡ï¼Œæ‰€ä»¥åå­—ä¸­å¸¦æœ‰GB. GDBTç±»æ¨¡å‹å¦‚xgb, lgb, catboost, thunderboostéƒ½æ˜¯GBDTçš„æ”¹è¿›ç‰ˆæœ¬
åŸºæœ¬æ¨å¯¼ GBDTçš„åŸºæœ¬å½¢å¼ï¼š
XGB $$ J^{(t-1)} = \sum_{j \in T}\left[\left( \sum_{i \in I_j} g_i\right)w_j + \frac{1}{2}\left(\sum_{i \in I_j}h_i + \lambda \right)w_j^2 \right] + \gamma T \ = \sum_{j \in T}\left[G_jw_j + \frac{1}{2}\left(H_j + \lambda \right)w_j^2 \right] + \gamma T $$
å…¶ä¸­ G_j æ˜¯è½å…¥ç¬¬\(j\)ä¸ªå¶èŠ‚ç‚¹çš„æ ·æœ¬ä¸€é˜¶æ¢¯åº¦ä¹‹å’Œï¼Œ H_j æ˜¯è½å…¥ç¬¬\(j\)ä¸ªå¶èŠ‚ç‚¹çš„æ ·æœ¬çš„äºŒé˜¶æ¢¯åº¦ä¹‹å’Œï¼Œ å¯¹äºå¼
$$ G_jw_j + \frac{1}{2}\left(H_j + \lambda \right)w_j^2 $$ $w_j$ç›¸å½“äºè‡ªå˜é‡$x$ï¼Œä»è€Œ $$ w_j = -\frac{G_i}{H_j + \lambda} $$ æ—¶è¯¥å¼å–å¾—æœ€å°å€¼ï¼Œå°†å…¶å¸¦å…¥ç›®æ ‡å‡½æ•°ä¸­ï¼Œå¾—åˆ°
$$J^{(t)} = -\frac{1}{2}\sum_{j=1, \cdots , T}\frac{G_j^2}{H_j + \lambda} + \gamma T$$
å‚è€ƒèµ„æ–™ GBDTçš„åŸç†å’Œåº”ç”¨ </p>
</div>
<a class=entry-link aria-label="post link to XGB" href=https://hillbamboo.github.io/posts/tech/learn-xgb/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Jupyterlabäº¤äº’å¼ç¯å¢ƒé…ç½®
</h2>
</header>
<div class=entry-content>
<p>å®‰è£…jupyter notebook æ’ä»¶ table of content ç”¨äºä¸ºé•¿æ–‡æœ¬ç”Ÿæˆç›®å½• ä¸€äº›color scheme, background image ä¹‹ç±» å®‰è£…jupyter lab ä¸ºjupyter lab å®‰è£…æ’ä»¶ pixiedust: IBMçš„notebook debugger å®‰è£… jupyterlab-variableInspector ç”¨äºæ›´å¿«æ·åœ°è§‚å¯Ÿå˜é‡, å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘æ•´å¤©printå˜é‡äº† </p>
</div>
<a class=entry-link aria-label="post link to Jupyterlabäº¤äº’å¼ç¯å¢ƒé…ç½®" href=https://hillbamboo.github.io/posts/tech/setup-jupyterlab-interactive-computational-envs/></a>
</article>
<footer class=page-footer>
<nav class=pagination>
<a class=next href=https://hillbamboo.github.io/posts/tech/page/2/>Next&nbsp;&nbsp;Â»
</a>
</nav>
</footer>
</main>
<footer class=footer>
<span>&copy; 2023 <a href=https://hillbamboo.github.io/>hill's blog</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>